<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Lab 8 - E2E Testing</title>

        <!-- Main Stylesheet -->
        <link rel="stylesheet" href="./styles/style.css">

        <!-- Favicon -->
        <link rel="icon" href="./styles/favicon.ico">
    </head>

    <body>
        <header>
            <h1>Journal Entries</h1>
            <img src="./styles/settings.svg" alt="settings" width=40 height=40>
        </header>

        <main class="double-column diff-bg"></main>

        <entry-page></entry-page>

        <!-- analytics -->
        <script src="//cdn.split.io/sdk/split-10.15.5.min.js"></script>
        <script>
            var sdk = splitio({
                core: {
                    authorizationKey: 'b4u06qfp6bhvsbk775i783mb546q0cf954d5',
                    key: Math.random().toString(36).substring(7)
                }
            });

            var client = sdk.client();

            function onReady() {
                var treatment = client.getTreatment('title');
                console.log(treatment);

                if (treatment == 'off') {
                    document.querySelector("main").className = "double-column";
                }
            }

            // Evaluate treatment when the SDK is ready to operate.
            client.on(client.Event.SDK_READY, onReady);
        </script>

        <!-- journal-entry web component -->
        <script src="./components/journal-entry.js" type="module"></script>
        <script src="./components/entry-page.js" type="module"></script>

        <!-- Router Script -->
        <script src="./scripts/router.js" type="module"></script>

        <!-- Main Script -->
        <script src="./scripts/script.js" type="module"></script>
    </body>

</html>
